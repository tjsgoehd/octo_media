import React, { useState } from 'react';
import { X } from 'lucide-react';

const VideoUploadModal = () => {
  const [selectedThumbnail, setSelectedThumbnail] = useState(2);
  const [category, setCategory] = useState('단기컷');
  const [title, setTitle] = useState('');
  const [author, setAuthor] = useState('');

  // 썸네일 더미 데이터
  const thumbnails = [
    { id: 0, url: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=200&h=120&fit=crop' },
    { id: 1, url: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=200&h=120&fit=crop' },
    { id: 2, url: 'https://images.unsplash.com/photo-1552820728-8b83bb6b773f?w=200&h=120&fit=crop' },
    { id: 3, url: 'https://images.unsplash.com/photo-1511512578047-dfb367046420?w=200&h=120&fit=crop' },
    { id: 4, url: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?w=200&h=120&fit=crop' },
  ];

  // 드롭박스 옵션 목록
  const categories = ['단기컷', '공략', '가이드', '기타'];

  return (
    <div className="flex items-center justify-center min-h-screen bg-gray-900 p-4">
      <div className="bg-white rounded-[40px] shadow-2xl w-full max-w-2xl overflow-hidden p-10 relative">
        
        {/* 헤더 및 닫기 버튼 */}
        <div className="flex justify-between items-center mb-8">
          <h2 className="text-2xl font-bold text-slate-800">새 영상 업로드</h2>
          <button className="text-gray-400 hover:text-gray-600 transition-colors">
            <X size={28} />
          </button>
        </div>

        {/* 안내 문구 */}
        <div className="text-center mb-6">
          <p className="text-blue-600 italic font-semibold">
            썸네일을 선택하고 정보를 입력하세요
          </p>
        </div>

        {/* 썸네일 선택 영역 */}
        <div className="flex gap-2 justify-between mb-8 overflow-x-auto pb-2">
          {thumbnails.map((thumb) => (
            <div
              key={thumb.id}
              onClick={() => setSelectedThumbnail(thumb.id)}
              className={`relative flex-shrink-0 cursor-pointer rounded-lg overflow-hidden border-4 transition-all ${
                selectedThumbnail === thumb.id ? 'border-blue-500 scale-105' : 'border-transparent opacity-70 hover:opacity-100'
              }`}
              style={{ width: '110px', height: '65px' }}
            >
              <img src={thumb.url} alt="thumbnail" className="w-full h-full object-cover" />
            </div>
          ))}
        </div>

        {/* 입력 폼 영역 */}
        <div className="space-y-4">
          {/* 영상 제목 */}
          <input
            type="text"
            placeholder="영상 제목"
            value={title}
            onChange={(e) => setTitle(e.target.value)}
            className="w-full bg-slate-50 border-none rounded-xl py-4 px-6 text-lg focus:ring-2 focus:ring-blue-400 outline-none transition-all placeholder-gray-300"
          />

          <div className="flex gap-4">
            {/* 카테고리 드롭박스 (수정된 부분) */}
            <select
              value={category}
              onChange={(e) => setCategory(e.target.value)}
              className="flex-1 bg-slate-50 border-none rounded-xl py-4 px-6 text-lg focus:ring-2 focus:ring-blue-400 outline-none transition-all appearance-none cursor-pointer"
              style={{ backgroundImage: 'url("data:image/svg+xml,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 fill=%27none%27 viewBox=%270 0 24 24%27 stroke=%27currentColor%27%3E%3Cpath stroke-linecap=%27round%27 stroke-linejoin=%27round%27 stroke-width=%272%27 d=%2719 9l-7 7-7-7%27 /%3E%3C/svg%3E")', backgroundRepeat: 'no-repeat', backgroundPosition: 'right 1.5rem center', backgroundSize: '1.5rem' }}
            >
              {categories.map((item) => (
                <option key={item} value={item}>
                  {item}
                </option>
              ))}
            </select>

            {/* 작성자 */}
            <input
              type="text"
              placeholder="작성자"
              value={author}
              onChange={(e) => setAuthor(e.target.value)}
              className="flex-1 bg-slate-50 border-none rounded-xl py-4 px-6 text-lg focus:ring-2 focus:ring-blue-400 outline-none transition-all placeholder-gray-300"
            />
          </div>
        </div>

        {/* 등록 버튼 */}
        <button className="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 rounded-xl mt-10 text-xl transition-all shadow-lg active:scale-[0.98]">
          구글 드라이브 업로드 및 등록
        </button>

      </div>
    </div>
  );
};

export default App = VideoUploadModal;
